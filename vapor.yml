id: 5067
name: poc-app
separate-vendor: true

environments:
    production:
        balancer: app-load-balancer
        memory: 1024
        cli-memory: 512
        concurrency: 50
        warm: 5
        timeout: 60
        runtime: php-7.3
        cli-concurrency: 50
        storage: poc-app-production-storage
        database: poc-app-db
        build:
            - 'composer install --no-dev'
            - 'php artisan config:cache'
            - 'php artisan route:cache'
            - 'php artisan event:cache'
            - 'npm ci && npm run prod && rm -rf node_modules'
    
    staging:
        memory: 1024
        cli-memory: 512
        concurrency: 50
        runtime: php-7.3
        build:
            - 'composer install'
            - 'php artisan event:cache'
            - 'npm ci && npm run dev && rm -rf node_modules'
            